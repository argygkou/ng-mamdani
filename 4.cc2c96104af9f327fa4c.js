(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{FEoP:function(e,a,t){"use strict";t.r(a),t.d(a,"FuzzyModule",function(){return q});var n=t("PCNd"),r=t("tyNb"),i=t("3Pt+");const o={newFuzzyArea:{name:"Name",type:{ranges:[]}},types:{triangle:{name:"Triangle",ranges:[0,0,0],value:(e,a)=>{const t=e.map(e=>parseInt(e,10)),n=parseInt(a,10);return n<t[0]||n>t[2]?0:n<t[1]?(n-t[0])/(t[1]-t[0]):(t[2]-n)/(t[2]-t[1])}},trapezoid:{name:"Trapezoid",ranges:[0,0,0,0],value:(e,a)=>{const t=e.map(e=>parseInt(e,10)),n=parseInt(a,10);return n<t[0]||n>t[3]?0:n<t[1]?(n-t[0])/(t[1]-t[0]):n<t[2]?1:(t[3]-n)/(t[3]-t[2])}}}};var s={projectName:"My new project",variables:Object.assign(Object.assign({},{variableType:"input",newVariable:{name:"",start:0,end:0,fuzzyAreasCount:1,fuzzyAreas:[],example:0},inputs:[],outputs:[]}),{variableType:"input",newVariable:{name:"",start:0,end:0,fuzzyAreasCount:1,fuzzyAreas:[],example:0},inputs:[{name:"Temperature",start:-20,end:40,fuzzyAreasCount:4,example:22,fuzzyAreas:[{name:"Freezing",type:{name:"Triangle",ranges:[-20,-10,0],value:o.types.triangle.value}},{name:"Breeze",type:{name:"Triangle",ranges:[-5,5,23],value:o.types.triangle.value}},{name:"Warm",type:{name:"Trapezoid",ranges:[10,15,20,25],value:o.types.trapezoid.value}},{name:"Hot",type:{name:"Triangle",ranges:[20,30,40],value:o.types.triangle.value}}]},{name:"Humidity",start:0,end:100,fuzzyAreasCount:4,example:45,fuzzyAreas:[{name:"Only air",type:{name:"Triangle",ranges:[0,25,35],value:o.types.triangle.value}},{name:"Airy",type:{name:"Triangle",ranges:[20,35,55],value:o.types.triangle.value}},{name:"Comfort",type:{name:"Trapezoid",ranges:[20,60,70,75],value:o.types.trapezoid.value}},{name:"Humid",type:{name:"Triangle",ranges:[40,90,100],value:o.types.triangle.value}}]}],outputs:[{name:"Watering",start:0,end:100,fuzzyAreasCount:4,fuzzyAreas:[{name:"No watering",type:{name:"Triangle",ranges:[0,50,60],value:o.types.triangle.value}},{name:"Sprinkle",type:{name:"Triangle",ranges:[30,70,80],value:o.types.triangle.value}},{name:"Tiny watering",type:{name:"Trapezoid",ranges:[30,40,70,80],value:o.types.trapezoid.value}},{name:"Huge watering",type:{name:"Triangle",ranges:[50,90,100],value:o.types.triangle.value}}]}]}),fuzzyAreas:o,rules:{data:[],newRule:{name:"name",type:"AND",fuzzyAreas:{inputs:[],output:{value:0}}}},chartData:{labels:[0,30,50],datasets:[{label:"MF",backgroundColor:"#f87979",data:[1,.5,.2]}]}},b=t("fXoL"),l=t("kmnG"),u=t("qFsG");let c=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=b.Gb({type:e,selectors:[["app-project-name"]],inputs:{projectName:"projectName"},decls:9,vars:2,consts:[[1,"project-data"],[1,"example-form"],[1,"input-full-width"],["matInput","","placeholder","Ex. Pizza","name","projectName",3,"ngModel","ngModelChange"]],template:function(e,a){1&e&&(b.Rb(0,"section",0),b.Rb(1,"h2"),b.Rb(2,"strong"),b.oc(3),b.Qb(),b.Qb(),b.Rb(4,"form",1),b.Rb(5,"mat-form-field",2),b.Rb(6,"mat-label"),b.oc(7,"Enter name of your project"),b.Qb(),b.Rb(8,"input",3),b.Yb("ngModelChange",function(e){return a.projectName=e}),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.Bb(3),b.pc(a.projectName),b.Bb(5),b.dc("ngModel",a.projectName))},directives:[i.o,i.i,i.j,l.c,l.f,u.a,i.a,i.h,i.k],styles:[""]}),e})();var p=t("Wp6s"),m=t("QibW"),d=t("ofXK"),f=t("bTqV"),g=t("MutI"),z=t("FKr1"),y=t("A5z7"),R=t("d3UM");function v(e,a){if(1&e&&(b.Rb(0,"mat-chip"),b.oc(1),b.Qb()),2&e){const e=a.$implicit;b.Bb(1),b.pc(e.name)}}function h(e,a){if(1&e&&(b.Rb(0,"mat-option",13),b.oc(1),b.Qb()),2&e){const e=a.$implicit;b.dc("value",e),b.Bb(1),b.qc(" ",e.name," ")}}const Q=function(){return{standalone:!0}};function A(e,a){if(1&e){const e=b.Sb();b.Rb(0,"span"),b.Rb(1,"input",14),b.Yb("ngModelChange",function(t){b.hc(e);const n=a.index;return b.ac(3).fuzzyAreas.newFuzzyArea.type.ranges[n]=t}),b.Qb(),b.Qb()}if(2&e){const e=a.index,t=b.ac(3);b.Bb(1),b.dc("ngModel",t.fuzzyAreas.newFuzzyArea.type.ranges[e])("ngModelOptions",b.ec(2,Q))}}function F(e,a){if(1&e){const e=b.Sb();b.Rb(0,"section",2),b.Rb(1,"h5"),b.oc(2,"Add new input variable fuzzyArea:"),b.Qb(),b.Rb(3,"form",5,6),b.Yb("ngSubmit",function(){b.hc(e);const a=b.gc(4);return b.ac(2).addFuzzyArea.emit(a)}),b.Rb(5,"mat-form-field",7),b.Rb(6,"mat-label"),b.oc(7,"Name"),b.Qb(),b.Rb(8,"input",8),b.Yb("ngModelChange",function(a){return b.hc(e),b.ac(2).fuzzyAreas.newFuzzyArea.name=a}),b.Qb(),b.Qb(),b.Nb(9,"br"),b.Rb(10,"mat-form-field"),b.Rb(11,"mat-label"),b.oc(12,"Type"),b.Qb(),b.Rb(13,"mat-select",9),b.Yb("ngModelChange",function(a){return b.hc(e),b.ac(2).fuzzyAreas.newFuzzyArea.type=a}),b.nc(14,h,2,2,"mat-option",10),b.Qb(),b.Qb(),b.Rb(15,"label",11),b.oc(16,"Value:"),b.Qb(),b.nc(17,A,2,3,"span",1),b.Rb(18,"button",12),b.oc(19," Add FuzzyArea "),b.Qb(),b.Qb(),b.Qb()}if(2&e){const e=b.gc(4),a=b.ac(2);b.Bb(8),b.dc("ngModel",a.fuzzyAreas.newFuzzyArea.name)("ngModelOptions",b.ec(7,Q)),b.Bb(5),b.dc("ngModel",a.fuzzyAreas.newFuzzyArea.type)("ngModelOptions",b.ec(8,Q)),b.Bb(1),b.dc("ngForOf",a.fuzzyAreas.types),b.Bb(3),b.dc("ngForOf",a.fuzzyAreas.newFuzzyArea.type.ranges),b.Bb(1),b.dc("disabled",!e.form.valid)}}function M(e,a){if(1&e&&(b.Rb(0,"mat-list-item"),b.Rb(1,"h3",2),b.oc(2),b.Rb(3,"strong"),b.oc(4),b.Qb(),b.Qb(),b.Rb(5,"p",2),b.Rb(6,"span"),b.oc(7," FuzzyAreas: "),b.Qb(),b.Rb(8,"mat-chip-list",3),b.nc(9,v,2,1,"mat-chip",1),b.Qb(),b.Qb(),b.nc(10,F,20,9,"section",4),b.Qb()),2&e){const e=a.$implicit;b.Bb(2),b.qc(" ",e.name," goes from "),b.Bb(2),b.rc("",e.start," to ",e.end,""),b.Bb(5),b.dc("ngForOf",e.fuzzyAreas),b.Bb(1),b.dc("ngIf",e.fuzzyAreasCount>e.fuzzyAreas.length)}}let O=(()=>{class e{constructor(){this.addFuzzyArea=new b.n,this.fuzzyAreas=s.fuzzyAreas}ngOnInit(){}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=b.Gb({type:e,selectors:[["app-variables-list"]],inputs:{title:"title",variables:"variables"},outputs:{addFuzzyArea:"addFuzzyArea"},decls:6,vars:1,consts:[[1,"fuzzy-card"],[4,"ngFor","ngForOf"],["matLine",""],["aria-label","Fish selection"],["matLine","",4,"ngIf"],[3,"ngSubmit"],["form","ngForm"],[1,"input-full-width"],["matInput","","placeholder","Name",3,"ngModel","ngModelOptions","ngModelChange"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","fuzzy-area-value"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"],["type","number","min","0",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,a){1&e&&(b.Rb(0,"mat-card",0),b.Rb(1,"mat-card-title"),b.oc(2,"Input Variables"),b.Qb(),b.Rb(3,"mat-card-content"),b.Rb(4,"mat-list"),b.nc(5,M,11,5,"mat-list-item",1),b.Qb(),b.Qb(),b.Qb()),2&e&&(b.Bb(5),b.dc("ngForOf",a.variables))},directives:[p.a,p.e,p.c,g.a,d.i,g.b,z.f,y.b,d.j,y.a,i.o,i.i,i.j,l.c,l.f,u.a,i.a,i.h,i.k,R.a,f.a,z.h,i.l],styles:[".fuzzy-card[_ngcontent-%COMP%]{margin:20px 0}mat-list-item[_ngcontent-%COMP%]{margin-top:10px;height:auto!important}"]}),e})();function w(e,a){1&e&&(b.Rb(0,"mat-error"),b.oc(1," Name is required "),b.Qb())}function N(e,a){if(1&e&&(b.Rb(0,"span",22),b.oc(1),b.Qb()),2&e){const e=a.$implicit,t=b.ac().$implicit;b.Bb(1),b.pc(e.type.value(e.type.ranges,t.example))}}const j=function(){return{standalone:!0}};function B(e,a){if(1&e&&(b.Rb(0,"div"),b.Rb(1,"mat-form-field",9),b.Rb(2,"mat-label"),b.oc(3,"Name"),b.Qb(),b.Rb(4,"input",20),b.Yb("ngModelChange",function(e){return a.$implicit.name=e}),b.Qb(),b.Qb(),b.nc(5,N,2,1,"span",21),b.Qb()),2&e){const e=a.$implicit;b.Bb(4),b.dc("ngModel",e.name)("ngModelOptions",b.ec(3,j)),b.Bb(1),b.dc("ngForOf",e.fuzzyAreas)}}function C(e,a){if(1&e){const e=b.Sb();b.Rb(0,"span",37),b.Yb("click",function(){return b.hc(e),b.ac(3).toggleNorm()}),b.oc(1),b.Qb()}if(2&e){const e=b.ac(3);b.Bb(1),b.pc(e.rules.newRule.type)}}function I(e,a){if(1&e&&(b.Rb(0,"mat-option",38),b.oc(1),b.Qb()),2&e){const e=a.$implicit;b.dc("value",e),b.Bb(1),b.qc(" ",e.name," ")}}function T(e,a){if(1&e){const e=b.Sb();b.Rb(0,"span"),b.nc(1,C,2,1,"span",34),b.Rb(2,"mat-form-field",30),b.Rb(3,"mat-select",35),b.Yb("ngModelChange",function(t){b.hc(e);const n=a.index;return b.ac(2).rules.newRule.fuzzyAreas.inputs[n]=t}),b.nc(4,I,2,2,"mat-option",36),b.Qb(),b.Qb(),b.Qb()}if(2&e){const e=a.$implicit,t=a.index,n=b.ac(2);b.Bb(1),b.dc("ngIf",t>0),b.Bb(2),b.dc("ngModel",n.rules.newRule.fuzzyAreas.inputs[t])("ngModelOptions",b.ec(4,j)),b.Bb(1),b.dc("ngForOf",e.fuzzyAreas)}}function x(e,a){if(1&e&&(b.Rb(0,"mat-option",38),b.oc(1),b.Qb()),2&e){const e=a.$implicit;b.dc("value",e),b.Bb(1),b.qc(" ",e.name," ")}}function S(e,a){if(1&e){const e=b.Sb();b.Rb(0,"mat-select",35),b.Yb("ngModelChange",function(t){b.hc(e);const n=a.index;return b.ac(2).rules.newRule.fuzzyAreas.output[n]=t}),b.nc(1,x,2,2,"mat-option",36),b.Qb()}if(2&e){const e=a.$implicit,t=a.index,n=b.ac(2);b.dc("ngModel",n.rules.newRule.fuzzyAreas.output[t])("ngModelOptions",b.ec(3,j)),b.Bb(1),b.dc("ngForOf",e.fuzzyAreas)}}function Y(e,a){if(1&e&&(b.Rb(0,"mat-list-item"),b.Rb(1,"p",39),b.oc(2),b.Qb(),b.Qb()),2&e){const e=a.$implicit;b.Bb(2),b.sc(" ",e.name," has: ",e.fuzzyAreas.output.name," of: ",e.result," ")}}function k(e,a){if(1&e){const e=b.Sb();b.Rb(0,"section",23),b.Rb(1,"mat-card",3),b.Rb(2,"mat-card-content"),b.Rb(3,"form",24,25),b.Yb("ngSubmit",function(){return b.hc(e),b.ac().createRule()}),b.Rb(5,"span"),b.oc(6,"Compose your new fuzzyArea: "),b.Qb(),b.Nb(7,"br"),b.Rb(8,"mat-form-field",9),b.Rb(9,"mat-label"),b.oc(10,"Rule Name"),b.Qb(),b.Rb(11,"input",20),b.Yb("ngModelChange",function(a){return b.hc(e),b.ac().rules.newRule.name=a}),b.Qb(),b.Qb(),b.Rb(12,"div",7),b.Rb(13,"div",26),b.Rb(14,"p",27),b.oc(15,"IF"),b.Qb(),b.Qb(),b.Rb(16,"div",28),b.nc(17,T,5,5,"span",18),b.Qb(),b.Rb(18,"div",26),b.Rb(19,"p",27),b.oc(20,"THEN"),b.Qb(),b.Qb(),b.Rb(21,"div",29),b.Rb(22,"mat-form-field",30),b.nc(23,S,2,4,"mat-select",31),b.Qb(),b.Qb(),b.Qb(),b.Rb(24,"button",32),b.oc(25," Add new rule "),b.Qb(),b.Qb(),b.Rb(26,"mat-list"),b.nc(27,Y,3,3,"mat-list-item",18),b.Qb(),b.Qb(),b.Rb(28,"mat-card-actions"),b.Rb(29,"button",33),b.Yb("click",function(){return b.hc(e),b.ac().getResult()}),b.oc(30," Log result "),b.Qb(),b.Qb(),b.Qb(),b.Qb()}if(2&e){const e=b.gc(4),a=b.ac();b.Bb(11),b.dc("ngModel",a.rules.newRule.name)("ngModelOptions",b.ec(6,j)),b.Bb(6),b.dc("ngForOf",a.variables.inputs),b.Bb(6),b.dc("ngForOf",a.variables.outputs),b.Bb(1),b.dc("disabled",!e.form.valid),b.Bb(3),b.dc("ngForOf",a.rules.data)}}const V=[{path:"",component:(()=>{class e{constructor(e){this.fb=e,this.projectName=s.projectName,this.variables=s.variables,this.fuzzyAreas=s.fuzzyAreas,this.rules=s.rules,this.variablesForm=this.fb.group({name:["",i.n.required],fuzzyAreasCount:1,start:0,end:0})}ngOnInit(){}get variableType(){return this.variablesForm.get("variableType").value}addVariable(e){e.preventDefault(),this.variables.newVariable=this.variablesForm.value,"input"===this.variables.variableType?this.variables.inputs=[...this.variables.inputs,Object.assign(Object.assign({},this.variables.newVariable),{fuzzyAreas:[]})]:this.variables.outputs=[Object.assign(Object.assign({},this.variables.newVariable),{fuzzyAreas:[]})]}addFuzzyArea(e){e.fuzzyAreas.push(Object.assign(Object.assign({},this.fuzzyAreas.newFuzzyArea),{type:Object.assign(Object.assign({},this.fuzzyAreas.newFuzzyArea.type),{ranges:[...this.fuzzyAreas.newFuzzyArea.type.ranges]})}))}createRule(){this.rules=Object.assign(Object.assign({},this.rules),{data:[...this.rules.data,Object.assign(Object.assign({},this.rules.newRule),{fuzzyAreas:{inputs:[...this.rules.newRule.fuzzyAreas.inputs],output:Object.assign({},this.rules.newRule.fuzzyAreas.output)},result:this.checkValue(this.rules.newRule)})]})}toggleNorm(){let e;e="AND"===this.rules.newRule.type?"OR":"AND",this.rules.newRule=Object.assign(Object.assign({},this.rules.newRule),{type:e})}getResult(){let e={result:0};this.rules.data.forEach(a=>{a.result>e.result&&(e=a)})}checkValue(e){const a="AND"===e.type?Math.min:Math.max,t=[];return e.fuzzyAreas.inputs.forEach((e,a)=>{t.push(e.type.value(e.type.ranges,this.variables.inputs[a].example))}),t.reduce((e,t)=>a(e,t))}}return e.\u0275fac=function(a){return new(a||e)(b.Mb(i.b))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-fuzzy"]],decls:49,vars:13,consts:[[1,"container"],[3,"projectName"],[3,"formGroup","ngSubmit"],[1,"fuzzy-card"],["aria-label","Select an option",3,"ngModel","ngModelOptions","ngModelChange"],["value","input"],["value","output"],[1,"row"],[1,"col-6"],[1,"input-full-width"],["matInput","","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","fuzzy areas count","type","number","min","0","formControlName","fuzzyAreasCount"],["matInput","","placeholder","Start","type","number","min","0","formControlName","start"],["matInput","","placeholder","End","type","number","min","0","formControlName","end"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"title","variables","addFuzzyArea"],["id","examples-data"],[4,"ngFor","ngForOf"],["id","rules",4,"ngIf"],["matInput","","placeholder","Name",3,"ngModel","ngModelOptions","ngModelChange"],["class","contain-level",4,"ngFor","ngForOf"],[1,"contain-level"],["id","rules"],[3,"ngSubmit"],["form","ngForm"],[1,"col-1"],[2,"margin-top","20px"],[1,"col-7"],[1,"col-3"],["appearance","fill"],[3,"ngModel","ngModelOptions","ngModelChange",4,"ngFor","ngForOf"],["mat-button","","color","primary","type","submit",3,"disabled"],["mat-raised-button","","color","primary",3,"click"],["style","margin: 0 10px",3,"click",4,"ngIf"],[3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"margin","0 10px",3,"click"],[3,"value"],["matLine",""]],template:function(e,a){1&e&&(b.Rb(0,"div",0),b.Nb(1,"app-project-name",1),b.Rb(2,"section"),b.Rb(3,"form",2),b.Yb("ngSubmit",function(e){return a.addVariable(e)}),b.Rb(4,"mat-card",3),b.Rb(5,"mat-card-content"),b.Rb(6,"mat-radio-group",4),b.Yb("ngModelChange",function(e){return a.variables.variableType=e}),b.Rb(7,"mat-radio-button",5),b.oc(8,"Input"),b.Qb(),b.Rb(9,"mat-radio-button",6),b.oc(10,"Output"),b.Qb(),b.Qb(),b.Nb(11,"br"),b.Rb(12,"div",7),b.Rb(13,"div",8),b.Rb(14,"mat-form-field",9),b.Rb(15,"mat-label"),b.oc(16,"Variable Name"),b.Qb(),b.Nb(17,"input",10),b.nc(18,w,2,0,"mat-error",11),b.Qb(),b.Qb(),b.Rb(19,"div",8),b.Rb(20,"mat-form-field",9),b.Rb(21,"mat-label"),b.oc(22,"Number of fuzzyAreas"),b.Qb(),b.Nb(23,"input",12),b.Qb(),b.Qb(),b.Qb(),b.Nb(24,"br"),b.Rb(25,"div",7),b.Rb(26,"div",8),b.Rb(27,"mat-form-field",9),b.Rb(28,"mat-label"),b.oc(29,"Range: Start"),b.Qb(),b.Nb(30,"input",13),b.Qb(),b.Qb(),b.Rb(31,"div",8),b.Rb(32,"mat-form-field",9),b.Rb(33,"mat-label"),b.oc(34,"Range: End"),b.Qb(),b.Nb(35,"input",14),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(36,"mat-card-actions"),b.Rb(37,"button",15),b.oc(38," Add variable "),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(39,"app-variables-list",16),b.Yb("addFuzzyArea",function(e){return a.addFuzzyArea(e)}),b.Qb(),b.Rb(40,"app-variables-list",16),b.Yb("addFuzzyArea",function(e){return a.addFuzzyArea(e)}),b.Qb(),b.Qb(),b.Rb(41,"section",17),b.Rb(42,"form"),b.Rb(43,"mat-card",3),b.Rb(44,"mat-card-title"),b.oc(45,"Provide example for your variables:"),b.Qb(),b.Rb(46,"mat-card-content"),b.nc(47,B,6,4,"div",18),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.nc(48,k,31,7,"section",19),b.Qb()),2&e&&(b.Bb(1),b.dc("projectName",a.projectName),b.Bb(2),b.dc("formGroup",a.variablesForm),b.Bb(3),b.dc("ngModel",a.variables.variableType)("ngModelOptions",b.ec(12,j)),b.Bb(12),b.dc("ngIf",a.variablesForm.get("name").hasError("required")),b.Bb(19),b.dc("disabled",!a.variablesForm.valid),b.Bb(2),b.dc("title","Input Variables")("variables",a.variables.inputs),b.Bb(1),b.dc("title","Output Variables")("variables",a.variables.outputs),b.Bb(7),b.dc("ngForOf",a.variables.inputs),b.Bb(1),b.dc("ngIf",a.variables.inputs.length))},directives:[c,i.o,i.i,i.d,p.a,p.c,m.b,i.h,i.k,m.a,l.c,l.f,u.a,i.a,i.c,d.j,i.l,p.b,f.a,O,i.j,p.e,d.i,l.b,g.a,R.a,z.h,g.b,z.f],styles:[".mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}"]}),e})()}];let $=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(a){return new(a||e)},imports:[[r.a.forChild(V)],r.a]}),e})(),q=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(a){return new(a||e)},imports:[[n.a,$]]}),e})()}}]);