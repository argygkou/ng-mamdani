(self.webpackChunkng_mamdani=self.webpackChunkng_mamdani||[]).push([[676],{4676:(t,e,r)=>{"use strict";r.r(e),r.d(e,{HomeModule:()=>w});var a=r(4655),o=r(9765),n=r(739),i=r(6782),s=r(2238),u=r(7716),c=r(858),m=r(1095);let l=(()=>{class t{constructor(t,e){this.data=t,this.mamdaniService=e}ngOnInit(){this.result=this.mamdaniService.getResult(this.data.values)}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(s.WI),u.Y36(c.q))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-result"]],decls:7,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close","","mat-raised-button","","color","primary"]],template:function(t,e){1&t&&(u.TgZ(0,"h1",0),u._uU(1,"Congratulations"),u.qZA(),u.TgZ(2,"div",1),u._uU(3),u.qZA(),u.TgZ(4,"div",2),u.TgZ(5,"button",3),u._uU(6," Close "),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Oqu(e.result))},directives:[s.uh,s.xY,s.H8,m.lW,s.ZT],styles:[""]}),t})();var p=r(8036),g=r(3738),f=r(3679),d=r(7832),h=r(8583),b=r(2542);const v=["stepper"];function Z(t,e){if(1&t&&u._uU(0),2&t){const t=u.oxw().$implicit;u.Oqu(t.get("name").value)}}function x(t,e){if(1&t&&(u.TgZ(0,"mat-button-toggle",13),u._uU(1),u.qZA()),2&t){const t=e.$implicit,r=u.oxw(2);u.Q6J("value",r.getFuzzyAreaValue(t)),u.xp6(1),u.hij(" ",t.name,"")}}function y(t,e){1&t&&(u.TgZ(0,"button",14),u._uU(1," Back "),u.qZA())}function A(t,e){1&t&&(u.TgZ(0,"button",15),u._uU(1," Next "),u.qZA())}function q(t,e){if(1&t){const t=u.EpF();u.TgZ(0,"button",16),u.NdJ("click",function(){return u.CHM(t),u.oxw(2).getResult()}),u._uU(1," Finish "),u.qZA()}}function C(t,e){if(1&t&&(u.TgZ(0,"mat-step",6),u.YNc(1,Z,1,1,"ng-template",7),u.TgZ(2,"mat-button-toggle-group",8),u.YNc(3,x,2,2,"mat-button-toggle",9),u.qZA(),u.TgZ(4,"div"),u.YNc(5,y,2,0,"button",10),u.YNc(6,A,2,0,"button",11),u.YNc(7,q,2,0,"button",12),u.qZA(),u.qZA()),2&t){const t=e.$implicit,r=e.index,a=e.last,o=u.oxw();u.Q6J("formGroupName",r)("stepControl",t),u.xp6(3),u.Q6J("ngForOf",o.inputVariables[r].fuzzyAreas),u.xp6(2),u.Q6J("ngIf",r>0),u.xp6(1),u.Q6J("ngIf",!a),u.xp6(1),u.Q6J("ngIf",a)}}let S=(()=>{class t{constructor(t,e,r){this.mamdaniService=t,this.formCreatorService=e,this.dialog=r,this.destroy$=new o.xQ}ngOnInit(){(0,n.aj)([this.mamdaniService.inputVariables$,this.mamdaniService.outputVariables$,this.mamdaniService.rules$]).pipe((0,i.R)(this.destroy$)).subscribe(([t,e,r])=>{this.inputVariables=t,this.initForm()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getFuzzyAreaValue(t){return t.ranges.reduce((t,e)=>t+e,0)/t.ranges.length}getResult(){const t=this.form.get("variables").value;this.dialog.open(l,{data:{values:t}}).afterClosed().pipe((0,i.R)(this.destroy$)).subscribe(t=>{this.initForm(),this.stepper.reset()})}calculateMaxValue(t){return this.formCreatorService.calculateMaxMin("max",this.inputVariables[t].fuzzyAreas)}initForm(){this.form=this.formCreatorService.initExampleForm();const t=this.form.get("variables");t.clear(),this.inputVariables.forEach(e=>{t.push(this.formCreatorService.addExample(e))})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(c.q),u.Y36(p.A),u.Y36(s.uw))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-home"]],viewQuery:function(t,e){if(1&t&&u.Gf(v,5),2&t){let t;u.iGM(t=u.CRH())&&(e.stepper=t.first)}},decls:7,vars:2,consts:[[1,"container"],[1,"mat-elevation-z4"],[3,"formGroup"],["formArrayName","variables","linear",""],["stepper",""],[3,"formGroupName","stepControl",4,"ngFor","ngForOf"],[3,"formGroupName","stepControl"],["matStepLabel",""],["formControlName","example",1,"fuzzy-area-toogle-group"],[3,"value",4,"ngFor","ngForOf"],["mat-button","","matStepperPrevious","","type","button",4,"ngIf"],["mat-button","","matStepperNext","","type","button",4,"ngIf"],["mat-button","","color","primary",3,"click",4,"ngIf"],[3,"value"],["mat-button","","matStepperPrevious","","type","button"],["mat-button","","matStepperNext","","type","button"],["mat-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"mat-card",1),u.TgZ(2,"mat-card-content"),u.TgZ(3,"form",2),u.TgZ(4,"mat-vertical-stepper",3,4),u.YNc(6,C,8,6,"mat-step",5),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.Q6J("formGroup",e.form),u.xp6(3),u.Q6J("ngForOf",e.form.get("variables").controls))},directives:[g.a8,g.dn,f._Y,f.JL,f.sg,d.Vq,f.CE,h.sg,d.C0,f.x0,d.VY,b.A9,f.JJ,f.u,h.O5,b.Yi,m.lW,d.fd,d.Ic],styles:[""]}),t})();const T=[{path:"",component:S},{path:"viewer",component:S}];let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[a.Bz.forChild(T)],a.Bz]}),t})();var Y=r(4431);let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[N,Y.m]]}),t})()}}]);