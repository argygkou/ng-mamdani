"use strict";(self.webpackChunkng_mamdani=self.webpackChunkng_mamdani||[]).push([[699],{5699:(Vt,z,m)=>{m.r(z),m.d(z,{ConfigModule:()=>Lt});var L=m(495),g=m(4655),t=m(7716),f=m(2835),_=m(5618),Z=m(9765),q=m(2394),A=m(8036),u=m(3738),i=m(3679),l=m(8583),p=m(8295),h=m(9983);function V(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a value "),t.qZA())}function Q(o,a){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Minimum value: "),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.get("example").errors.min.min)}}function w(o,a){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Maximum value: "),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.get("example").errors.max.max)}}function R(o,a){if(1&o&&(t.TgZ(0,"span"),t.TgZ(1,"span",11),t._uU(2),t.qZA(),t.TgZ(3,"span",12),t._uU(4),t.ALo(5,"number"),t.qZA(),t.qZA()),2&o){const e=a.$implicit,r=t.oxw().$implicit,n=t.oxw();t.xp6(2),t.hij("",e.name,":"),t.xp6(2),t.Oqu(t.lcZ(5,2,n.calculateValue(e,r.get("example").value)))}}function Y(o,a){if(1&o&&(t.TgZ(0,"div",5),t.TgZ(1,"mat-form-field",6),t.TgZ(2,"mat-label"),t._uU(3),t.qZA(),t._UZ(4,"input",7),t.YNc(5,V,2,0,"mat-error",8),t.YNc(6,Q,4,1,"mat-error",8),t.YNc(7,w,4,1,"mat-error",8),t.qZA(),t.TgZ(8,"div",9),t.YNc(9,R,6,4,"span",10),t.qZA(),t.qZA()),2&o){const e=a.$implicit,r=a.index,n=t.oxw();t.Q6J("formGroupName",r),t.xp6(3),t.Oqu(e.get("name").value),t.xp6(2),t.Q6J("ngIf",e.get("example").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.get("example").hasError("min")),t.xp6(1),t.Q6J("ngIf",e.get("example").hasError("max")),t.xp6(2),t.Q6J("ngForOf",n.getFuzzyAreas(e.get("name").value))}}let S=(()=>{class o{constructor(e,r){this.mamdaniService=e,this.formCreatorService=r,this.destroy$=new Z.xQ}ngOnInit(){this.initExampleForm()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}calculateValue(e,r){return r?q.N[e.type](e.ranges,r):0}getFuzzyAreas(e){const r=this.inputVariables.find(n=>n.name===e);return r&&r.fuzzyAreas||[]}getResult(){var e,r;const n=this.form.get("variables").value,s=this.mamdaniService.getResult(n);return s?`${null===(e=s.fuzzyAreas)||void 0===e?void 0:e.output.name} is ${null===(r=s.fuzzyAreas)||void 0===r?void 0:r.output.area}`:""}initExampleForm(){this.form=this.formCreatorService.initExampleForm(),this.mamdaniService.inputVariables$.pipe().subscribe(e=>{this.inputVariables=e;const r=this.form.get("variables");r.clear(),this.inputVariables.forEach(n=>{r.push(this.formCreatorService.addExample(n))})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.q),t.Y36(A.A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-examples-form"]],decls:12,vars:3,consts:[[1,"mat-elevation-z4"],[3,"formGroup"],["formArrayName","variables"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"ms-4"],[3,"formGroupName"],[1,"example-input","mx-3","mt-3"],["matInput","","type","number","autocomplete","off","formControlName","example"],[4,"ngIf"],[1,"fuzzy-area-values","ms-3"],[4,"ngFor","ngForOf"],[1,"me-2"],[1,"me-3","contain-value"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-card-title"),t._uU(2,"Provide example for your variables:"),t.qZA(),t.TgZ(3,"mat-card-content"),t.TgZ(4,"form",1),t.TgZ(5,"div",2),t.YNc(6,Y,10,6,"div",3),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"mat-card-actions"),t.TgZ(8,"p",4),t._uU(9," Result is: "),t.TgZ(10,"strong"),t._uU(11),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("formGroup",r.form),t.xp6(2),t.Q6J("ngForOf",r.form.get("variables").controls),t.xp6(5),t.Oqu(r.getResult()))},directives:[u.a8,u.n5,u.dn,i._Y,i.JL,i.sg,i.CE,l.sg,u.hq,i.x0,p.KE,p.hX,h.Nt,i.wV,i.Fj,i.JJ,i.u,l.O5,p.TO],pipes:[l.JJ],styles:[".example-input[_ngcontent-%COMP%]{width:300px}.contain-value[_ngcontent-%COMP%]{font-weight:bold}.fuzzy-area-values[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}"]}),o})();var F=m(5939);function $(o,a){if(1&o&&(t.TgZ(0,"a",6,7),t._uU(2),t.ALo(3,"titlecase"),t.qZA()),2&o){const e=a.$implicit,r=t.MAs(1);t.Q6J("routerLink",e)("active",r.isActive),t.xp6(2),t.hij(" ",t.lcZ(3,3,e)," ")}}let E=(()=>{class o{constructor(e){this.mamdaniService=e,this.links=["inputs","output","rules"]}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-config"]],decls:9,vars:1,consts:[["fxLayout","row","fxLayout.xs","column","fxLayoutGap","20px",1,"config-container"],["fxFlex","40"],["fxFlex","60"],[1,"mat-elevation-z4"],["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"ngFor","ngForOf"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["rla","routerLinkActive"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"app-examples-form"),t.qZA(),t.TgZ(3,"div",2),t.TgZ(4,"mat-card",3),t.TgZ(5,"mat-card-content"),t.TgZ(6,"nav",4),t.YNc(7,$,4,5,"a",5),t.qZA(),t._UZ(8,"router-outlet"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngForOf",r.links))},directives:[_.xw,_.SQ,_.yH,S,u.a8,u.dn,F.BU,l.sg,g.lC,g.yS,F.Nj,g.Od],pipes:[l.rS],styles:[".config-container[_ngcontent-%COMP%]{margin:0 20px}"]}),o})();var x=m(6782),I=m(6469),y=m(1769),d=m(1095),c=m(2238),N=m(7441),v=m(2458);function M(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleNorm()}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.typeControl.value," ")}}function D(o,a){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function k(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Required "),t.qZA())}function G(o,a){if(1&o&&(t.TgZ(0,"mat-form-field",16),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",17),t.YNc(4,D,2,2,"mat-option",18),t.qZA(),t.YNc(5,k,2,0,"mat-error",19),t.qZA()),2&o){const e=a.ngIf,r=t.oxw(),n=r.index,s=r.$implicit;t.xp6(2),t.Oqu(e[n].name),t.xp6(2),t.Q6J("ngForOf",e[n].fuzzyAreas),t.xp6(1),t.Q6J("ngIf",s.hasError("required"))}}function j(o,a){if(1&o&&(t.TgZ(0,"span"),t.YNc(1,M,2,1,"button",12),t.ynx(2,13),t.YNc(3,G,6,3,"mat-form-field",14),t.ALo(4,"async"),t.BQk(),t.qZA()),2&o){const e=a.index,r=t.oxw();t.xp6(1),t.Q6J("ngIf",e>0),t.xp6(1),t.Q6J("formGroupName",e),t.xp6(1),t.Q6J("ngIf",t.lcZ(4,3,r.mamdaniService.inputVariables$))}}const P=function(o,a){return{name:o,area:a}};function H(o,a){if(1&o&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&o){const e=a.$implicit,r=t.oxw().$implicit;t.Q6J("value",t.WLB(2,P,r.name,e.name)),t.xp6(1),t.hij(" ",e.name," ")}}function X(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Required "),t.qZA())}function B(o,a){if(1&o&&(t.TgZ(0,"mat-form-field",16),t.TgZ(1,"mat-label"),t._uU(2),t.qZA(),t.TgZ(3,"mat-select",21),t.YNc(4,H,2,5,"mat-option",18),t.qZA(),t.YNc(5,X,2,0,"mat-error",19),t.qZA()),2&o){const e=a.$implicit,r=t.oxw();t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Q6J("ngForOf",e.fuzzyAreas),t.xp6(1),t.Q6J("ngIf",r.output.hasError("required"))}}let W=(()=>{class o{constructor(e,r){this.mamdaniService=e,this.formCreatorService=r,this.destroy$=new Z.xQ}get typeControl(){return this.form.get("type")}get fuzzyAreas(){return this.form.get("fuzzyAreas")}get inputs(){return this.fuzzyAreas.get("inputs")}get output(){return this.fuzzyAreas.get("output")}ngOnInit(){this.initForm()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}createRule(e){e.preventDefault();const r=this.form.value,n=r.fuzzyAreas.inputs.filter(s=>s.area);r.fuzzyAreas.inputs=n.map(s=>({name:s.name,area:s.area.name})),r.fuzzyAreas.inputs.length>0&&(this.mamdaniService.addRule(r),this.form.reset())}toggleNorm(){this.typeControl.setValue("AND"===this.typeControl.value?"OR":"AND")}initForm(){this.form=this.formCreatorService.createRuleForm(),this.mamdaniService.inputVariables$.pipe((0,x.R)(this.destroy$)).subscribe(e=>{e.forEach(r=>{this.inputs.push(new i.cw({name:new i.NI(r.name),area:new i.NI(null)}))})})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.q),t.Y36(A.A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-rules-composer"]],decls:23,vars:6,consts:[[3,"formGroup","ngSubmit"],["dialog-title",""],["dialog-content","","formGroupName","fuzzyAreas"],[1,"row"],[1,"col-md-1"],[1,"mt-3"],["formArrayName","inputs",1,"col-md-11"],[4,"ngFor","ngForOf"],[1,"col-md-11"],["appearance","fill",4,"ngFor","ngForOf"],["dialog-actions",""],["mat-button","","mat-dialog-close","","mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-mini-fab","","type","button","color","primary","class","fab-control mx-3",3,"click",4,"ngIf"],[3,"formGroupName"],["appearance","fill",4,"ngIf"],["mat-mini-fab","","type","button","color","primary",1,"fab-control","mx-3",3,"click"],["appearance","fill"],["formControlName","area"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],["formControlName","output"]],template:function(e,r){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(s){return r.createRule(s)}),t.TgZ(1,"app-custom-modal"),t.TgZ(2,"h1",1),t._uU(3,"Add Rule"),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"p",5),t._uU(8,"IF"),t.qZA(),t.qZA(),t.TgZ(9,"div",6),t.YNc(10,j,5,5,"span",7),t.qZA(),t.qZA(),t._UZ(11,"mat-divider"),t._UZ(12,"br"),t.TgZ(13,"div",3),t.TgZ(14,"div",4),t.TgZ(15,"p",5),t._uU(16,"THEN"),t.qZA(),t.qZA(),t.TgZ(17,"div",8),t.YNc(18,B,6,3,"mat-form-field",9),t.ALo(19,"async"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",10),t.TgZ(21,"button",11),t._uU(22," Save "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",r.form),t.xp6(10),t.Q6J("ngForOf",r.inputs.controls),t.xp6(8),t.Q6J("ngForOf",t.lcZ(19,4,r.mamdaniService.outputVariables$)),t.xp6(3),t.Q6J("disabled",!r.form.valid))},directives:[i._Y,i.JL,i.sg,I.R,i.x0,i.CE,l.sg,y.d,d.lW,c.ZT,l.O5,p.KE,p.hX,N.gD,i.JJ,i.u,v.ey,p.TO],pipes:[l.Ov],styles:[".fab-control[_ngcontent-%COMP%]{bottom:5px}"]}),o})();var T=m(7746),b=m(1552);function K(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item"),t.TgZ(1,"p",4),t._uU(2,"No Rules. Add some!"),t.qZA(),t.TgZ(3,"button",5),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openDialog()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA(),t.qZA(),t.qZA()}}function tt(o,a){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"lowercase"),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.type)," ")}}function et(o,a){if(1&o&&(t.TgZ(0,"span"),t.TgZ(1,"strong"),t._uU(2),t.qZA(),t._uU(3," is "),t.TgZ(4,"strong"),t._uU(5),t.qZA(),t.YNc(6,tt,3,3,"span",1),t.qZA()),2&o){const e=a.$implicit,r=a.last;t.xp6(2),t.Oqu(e.name),t.xp6(3),t.Oqu(e.area),t.xp6(1),t.Q6J("ngIf",!r)}}function ot(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item"),t.TgZ(1,"h4",4),t._uU(2),t.qZA(),t.TgZ(3,"p",4),t.TgZ(4,"span"),t._uU(5,"If "),t.qZA(),t.YNc(6,et,7,3,"span",3),t._uU(7," then "),t.TgZ(8,"strong"),t._uU(9),t.qZA(),t._uU(10," is "),t.TgZ(11,"strong"),t._uU(12),t.qZA(),t.qZA(),t.TgZ(13,"button",6),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).removeRule(s)}),t.TgZ(14,"mat-icon"),t._uU(15,"delete"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=a.$implicit,r=a.index;t.xp6(2),t.hij("Rule ",r+1,""),t.xp6(4),t.Q6J("ngForOf",e.fuzzyAreas.inputs),t.xp6(3),t.Oqu(e.fuzzyAreas.output.name),t.xp6(3),t.Oqu(e.fuzzyAreas.output.area)}}function rt(o,a){if(1&o&&(t.TgZ(0,"mat-list"),t.YNc(1,K,6,0,"mat-list-item",1),t.YNc(2,ot,16,4,"mat-list-item",3),t.qZA()),2&o){const e=a.ngIf;t.xp6(1),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngForOf",e)}}let at=(()=>{class o{constructor(e,r){this.mamdaniService=e,this.dialog=r}openDialog(){this.dialog.open(W,{width:"1200px"})}removeRule(e){this.mamdaniService.removeRule(e)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.q),t.Y36(c.uw))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-rules-list"]],decls:9,vars:3,consts:[[1,"mat-elevation-z0"],[4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[4,"ngFor","ngForOf"],["matLine",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-card-title"),t._uU(2,"Rules"),t.qZA(),t.TgZ(3,"mat-card-content"),t.YNc(4,rt,3,2,"mat-list",1),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"mat-card-actions"),t.TgZ(7,"button",2),t.NdJ("click",function(){return r.openDialog()}),t._uU(8," Add Rule "),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,1,r.mamdaniService.rules$)))},directives:[u.a8,u.n5,u.dn,l.O5,u.hq,d.lW,T.i$,l.sg,T.Tg,v.X2,b.Hw],pipes:[l.Ov,l.i8],styles:[".mat-list-item[_ngcontent-%COMP%]{margin:30px 0}[_nghost-%COMP%]     .mat-list .mat-list-item .mat-line{word-wrap:break-word;white-space:pre-wrap}"]}),o})();function nt(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Name is required "),t.qZA())}function it(o,a){if(1&o&&(t.TgZ(0,"mat-option",11),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function mt(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Type is required "),t.qZA())}function st(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Required "),t.qZA())}function lt(o,a){if(1&o&&(t.TgZ(0,"span"),t.ynx(1),t.TgZ(2,"mat-form-field",12),t.TgZ(3,"mat-label"),t._uU(4),t.qZA(),t._UZ(5,"input",13),t.YNc(6,st,2,0,"mat-error",3),t.qZA(),t.BQk(),t.qZA()),2&o){const e=a.$implicit,r=a.index;t.xp6(4),t.hij("Range ",r+1,""),t.xp6(1),t.Q6J("formControlName",r),t.xp6(1),t.Q6J("ngIf",e.hasError("required"))}}let O=(()=>{class o{constructor(e){this.mamdaniService=e,this.fuzzyAreaTypes=Object.keys(q.N),this.onDestroy$=new Z.xQ}get ranges(){return this.form.get("ranges")}ngOnChanges(e){e.form&&this.form&&this.formTypeChangeSubsciption()}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}formTypeChangeSubsciption(){this.form.get("type").valueChanges.pipe((0,x.R)(this.onDestroy$)).subscribe(e=>{this.ranges.clear();const r="Trapezoid"===e?4:3;for(let n=0;n<r;n++)this.ranges.push(new i.NI(0,i.kI.required))})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-fuzzy-area-form"]],inputs:{form:"form"},features:[t.TTD],decls:17,vars:5,consts:[[1,"fuzzy-area-form",3,"formGroup"],[1,"fuzzy-area-name-input"],["matInput","","placeholder","Name","formControlName","name","autocomplete","off"],[4,"ngIf"],["fxLayout","row wrap ","fxLayoutAlign","start center"],[1,"me-3"],["formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["formArrayName","ranges","fxLayout","row wrap","fxLayoutAlign","start center"],["for","fuzzy-area-value",1,"me-3"],[4,"ngFor","ngForOf"],[3,"value"],[1,"fuzzy-area-range-input","mx-3"],["matInput","","type","number","autocomplete","off","placeholder","Name",3,"formControlName"]],template:function(e,r){1&e&&(t.TgZ(0,"form",0),t.TgZ(1,"mat-form-field",1),t.TgZ(2,"mat-label"),t._uU(3,"Name"),t.qZA(),t._UZ(4,"input",2),t.YNc(5,nt,2,0,"mat-error",3),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"mat-form-field",5),t.TgZ(8,"mat-label"),t._uU(9,"Type"),t.qZA(),t.TgZ(10,"mat-select",6),t.YNc(11,it,2,2,"mat-option",7),t.qZA(),t.YNc(12,mt,2,0,"mat-error",3),t.qZA(),t.TgZ(13,"div",8),t.TgZ(14,"label",9),t._uU(15,"Value:"),t.qZA(),t.YNc(16,lt,7,3,"span",10),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",r.form),t.xp6(5),t.Q6J("ngIf",r.form.get("name").hasError("required")),t.xp6(6),t.Q6J("ngForOf",r.fuzzyAreaTypes),t.xp6(1),t.Q6J("ngIf",r.form.get("type").hasError("required")),t.xp6(4),t.Q6J("ngForOf",r.ranges.controls))},directives:[i._Y,i.JL,i.sg,p.KE,p.hX,h.Nt,i.Fj,i.JJ,i.u,l.O5,_.xw,_.Wh,N.gD,l.sg,i.CE,p.TO,v.ey,i.wV],styles:[".fuzzy-area-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.fuzzy-area-form[_ngcontent-%COMP%]   .fuzzy-area-name-input[_ngcontent-%COMP%]{width:50%}.fuzzy-area-form[_ngcontent-%COMP%]   .fuzzy-area-range-input[_ngcontent-%COMP%]{width:100px}"]}),o})();function ut(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Required "),t.qZA())}function pt(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Required "),t.qZA())}function ct(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Minumun number of fuzzy areas 1 "),t.qZA())}function ft(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Required "),t.qZA())}function gt(o,a){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Required "),t.qZA())}function _t(o,a){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"app-fuzzy-area-form",15),t._UZ(2,"mat-divider"),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Q6J("form",e)}}let dt=(()=>{class o{constructor(e,r,n){this.data=e,this.formCreatorService=r,this.mamdaniService=n,this.form=this.formCreatorService.createVariableForm(),this.onDestroy$=new Z.xQ}get fuzzyAreasArray(){return this.form.get("fuzzyAreas")}get fuzzyAreasControls(){return this.fuzzyAreasArray.controls}ngOnInit(){this.form.get("fuzzyAreasCount").valueChanges.pipe((0,x.R)(this.onDestroy$)).subscribe(e=>{const r=this.form.get("fuzzyAreas");r.clear();for(let n=0;n<e;n++)r.push(this.formCreatorService.createFuzzyAreaForm())})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}getDialogTitle(){return"inputs"===this.data.type?"Add Input Variable":"Edit Output Variable"}addVariable(e){e.preventDefault(),"inputs"===this.data.type?this.mamdaniService.addInputVariable(this.form.value):this.mamdaniService.addOutputVariable(this.form.value),this.form.reset(),this.form=this.formCreatorService.createVariableForm()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.WI),t.Y36(A.A),t.Y36(f.q))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-variables-form"]],decls:41,vars:9,consts:[[3,"formGroup","ngSubmit"],["dialog-title",""],["dialog-content",""],[1,"row"],[1,"col-6"],[1,"input-full-width"],["matInput","","placeholder","Name","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","fuzzy areas count","autocomplete","off","type","number","min","0","formControlName","fuzzyAreasCount"],["matInput","","placeholder","Start","autocomplete","off","type","number","formControlName","start"],["matInput","","placeholder","End","autocomplete","off","type","number","formControlName","end"],[1,"my-3"],[4,"ngFor","ngForOf"],["dialog-actions",""],["mat-button","","mat-dialog-close","","mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"form"]],template:function(e,r){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(s){return r.addVariable(s)}),t.TgZ(1,"app-custom-modal"),t.TgZ(2,"h1",1),t._uU(3),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"div",3),t.TgZ(6,"div",4),t.TgZ(7,"mat-form-field",5),t.TgZ(8,"mat-label"),t._uU(9,"Variable Name"),t.qZA(),t._UZ(10,"input",6),t.YNc(11,ut,2,0,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(12,"div",4),t.TgZ(13,"mat-form-field",5),t.TgZ(14,"mat-label"),t._uU(15,"Number of fuzzyAreas"),t.qZA(),t._UZ(16,"input",8),t.YNc(17,pt,2,0,"mat-error",7),t.YNc(18,ct,2,0,"mat-error",7),t.qZA(),t.qZA(),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"div",3),t.TgZ(21,"div",4),t.TgZ(22,"mat-form-field",5),t.TgZ(23,"mat-label"),t._uU(24,"Range: Start"),t.qZA(),t._UZ(25,"input",9),t.YNc(26,ft,2,0,"mat-error",7),t.qZA(),t.qZA(),t.TgZ(27,"div",4),t.TgZ(28,"mat-form-field",5),t.TgZ(29,"mat-label"),t._uU(30,"Range: End"),t.qZA(),t._UZ(31,"input",10),t.YNc(32,gt,2,0,"mat-error",7),t.qZA(),t.qZA(),t.qZA(),t._UZ(33,"mat-divider"),t.TgZ(34,"div",11),t.TgZ(35,"h2"),t._uU(36,"Fuzzy Areas"),t.qZA(),t.YNc(37,_t,3,1,"div",12),t.qZA(),t.qZA(),t.TgZ(38,"div",13),t.TgZ(39,"button",14),t._uU(40," Save "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",r.form),t.xp6(3),t.Oqu(r.getDialogTitle()),t.xp6(8),t.Q6J("ngIf",r.form.get("name").hasError("required")),t.xp6(6),t.Q6J("ngIf",r.form.get("fuzzyAreasCount").hasError("required")),t.xp6(1),t.Q6J("ngIf",r.form.get("fuzzyAreasCount").hasError("min")),t.xp6(8),t.Q6J("ngIf",r.form.get("start").hasError("required")),t.xp6(6),t.Q6J("ngIf",r.form.get("end").hasError("required")),t.xp6(5),t.Q6J("ngForOf",r.fuzzyAreasControls),t.xp6(2),t.Q6J("disabled",!r.form.valid))},directives:[i._Y,i.JL,i.sg,I.R,p.KE,p.hX,h.Nt,i.Fj,i.JJ,i.u,l.O5,i.qQ,i.wV,y.d,l.sg,d.lW,c.ZT,p.TO,O],styles:[".mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}"]}),o})();var Zt=m(5257),U=m(2542);let vt=(()=>{class o{constructor(e,r){this.mamdaniService=e,this.formCreatorService=r,this.form=this.formCreatorService.createVariableForm(),this.onDestroy$=new Z.xQ}get ranges(){return this.form.get("ranges")}ngOnChanges(e){e.fuzzyArea&&this.initForm()}ngOnInit(){this.initForm()}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}updateFuzzyArea(e){e.preventDefault(),this.mamdaniService.addFuzzyArea(this.type,this.variableIndex,this.itemIndex,this.form.value)}initForm(){this.form=this.formCreatorService.createFuzzyAreaForm(),this.form.patchValue(this.fuzzyArea),this.fuzzyArea.ranges.forEach(e=>{this.ranges.push(new i.NI(e,i.kI.required))})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.q),t.Y36(A.A))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-variables-list-item-form"]],inputs:{variable:"variable",fuzzyArea:"fuzzyArea",variableIndex:"variableIndex",itemIndex:"itemIndex",type:"type"},features:[t.TTD],decls:4,vars:3,consts:[[1,"mt-3",3,"formGroup","ngSubmit"],[2,"display","inline",3,"form"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,r){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(s){return r.updateFuzzyArea(s)}),t._UZ(1,"app-fuzzy-area-form",1),t.TgZ(2,"button",2),t._uU(3," Update "),t.qZA(),t.qZA()),2&e&&(t.Q6J("formGroup",r.form),t.xp6(1),t.Q6J("form",r.form),t.xp6(1),t.Q6J("disabled",!r.form.valid))},directives:[i._Y,i.JL,i.sg,O,d.lW],styles:[""]}),o})();function At(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",6),t.TgZ(1,"h3"),t.TgZ(2,"span",7),t._uU(3),t.TgZ(4,"strong"),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeMode()}),t.TgZ(7,"mat-icon"),t._uU(8),t.qZA(),t.qZA(),t.qZA(),t._UZ(9,"span",9),t.TgZ(10,"button",10),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return n.removeItem.emit(n.itemIndex)}),t.TgZ(11,"mat-icon"),t._uU(12,"delete"),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.xp6(3),t.hij(" ",e.variable.name," goes from "),t.xp6(2),t.AsE("",e.variable.start," to ",e.variable.end,""),t.xp6(3),t.Oqu(e.edit?"close":"edit")}}function Tt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-button-toggle",11),t.NdJ("change",function(n){const C=t.CHM(e).index;return t.oxw().toggleChanged(n,C)}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name,"")}}function ht(o,a){if(1&o&&(t.TgZ(0,"span",14),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.Oqu(e)}}function xt(o,a){if(1&o&&(t.TgZ(0,"div"),t.TgZ(1,"p",12),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t.YNc(4,ht,2,1,"span",13),t.qZA(),t.qZA()),2&o){const e=t.oxw();t.xp6(3),t.hij("",e.selectedFuzzyArea.type," :"),t.xp6(1),t.Q6J("ngForOf",e.selectedFuzzyArea.ranges)}}function yt(o,a){if(1&o&&t._UZ(0,"app-variables-list-item-form",15),2&o){const e=t.oxw();t.Q6J("type",e.type)("variable",e.variable)("variableIndex",e.variableIndex)("itemIndex",e.itemIndex)("fuzzyArea",e.selectedFuzzyArea)}}function bt(o,a){1&o&&t._UZ(0,"mat-divider")}let Ct=(()=>{class o{constructor(){this.removeItem=new t.vpe}changeMode(){if(this.edit=!this.edit,!this.selectedFuzzyArea&&this.edit)return this.selectedFuzzyArea=this.variable.fuzzyAreas[0],void(this.itemIndex=0)}toggleChanged(e,r){this.itemIndex=r}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-variables-list-item"]],inputs:{variable:"variable",type:"type",variableIndex:"variableIndex"},outputs:{removeItem:"removeItem"},decls:8,vars:6,consts:[["matLine","","fxLayout","row",4,"ngIf"],["matLine",""],[1,"fuzzy-area-toogle-group",3,"ngModel","ngModelChange"],[3,"value","change",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"type","variable","variableIndex","itemIndex","fuzzyArea",4,"ngIf"],["matLine","","fxLayout","row"],[1,"me-2"],["mat-icon-button","","color","primary",3,"click"],[1,"header-spacer"],["mat-icon-button","","color","warn",3,"click"],[3,"value","change"],[1,"my-2"],["class","m-2",4,"ngFor","ngForOf"],[1,"m-2"],[3,"type","variable","variableIndex","itemIndex","fuzzyArea"]],template:function(e,r){1&e&&(t.YNc(0,At,13,4,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"mat-button-toggle-group",2),t.NdJ("ngModelChange",function(s){return r.selectedFuzzyArea=s}),t.YNc(3,Tt,2,2,"mat-button-toggle",3),t.qZA(),t.YNc(4,xt,5,2,"div",4),t.YNc(5,yt,1,5,"app-variables-list-item-form",5),t.qZA(),t._UZ(6,"br"),t.YNc(7,bt,1,0,"mat-divider",4)),2&e&&(t.Q6J("ngIf",r.variable),t.xp6(2),t.Q6J("ngModel",r.selectedFuzzyArea),t.xp6(1),t.Q6J("ngForOf",r.variable.fuzzyAreas),t.xp6(1),t.Q6J("ngIf",!r.edit&&r.selectedFuzzyArea),t.xp6(1),t.Q6J("ngIf",r.edit),t.xp6(2),t.Q6J("ngIf","inputs"===r.type))},directives:[l.O5,v.X2,U.A9,i.JJ,i.On,l.sg,_.xw,d.lW,b.Hw,U.Yi,vt,y.d],styles:["[_nghost-%COMP%]{width:100%}.header-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.fuzzy-area-toogle-group[_ngcontent-%COMP%]{flex-wrap:wrap}"]}),o})();const zt=["deleteDialog"];function qt(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item"),t.TgZ(1,"p",6),t._uU(2,"No Variables. Add some!"),t.qZA(),t.TgZ(3,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openDialog()}),t.TgZ(4,"mat-icon"),t._uU(5,"add"),t.qZA(),t.qZA(),t.qZA()}}function Ft(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item"),t.TgZ(1,"app-variables-list-item",8),t.NdJ("removeItem",function(){const s=t.CHM(e).index;return t.oxw(2).onRemoveItem(s)}),t.qZA(),t.qZA()}if(2&o){const e=a.$implicit,r=a.index,n=t.oxw(2);t.xp6(1),t.Q6J("type",n.type)("variable",e)("variableIndex",r)}}function It(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).openDialog()}),t._uU(1," Add variable "),t.qZA()}}function Nt(o,a){if(1&o&&(t.TgZ(0,"mat-card",2),t.TgZ(1,"mat-card-title"),t._uU(2),t.qZA(),t.TgZ(3,"mat-card-content"),t.TgZ(4,"mat-list"),t.YNc(5,qt,6,0,"mat-list-item",3),t.YNc(6,Ft,2,3,"mat-list-item",4),t.qZA(),t.qZA(),t.TgZ(7,"mat-card-actions"),t.YNc(8,It,2,0,"button",5),t.qZA(),t.qZA()),2&o){const e=a.ngIf,r=t.oxw();t.xp6(2),t.hij("",r.title," "),t.xp6(3),t.Q6J("ngIf",0===e.length),t.xp6(1),t.Q6J("ngForOf",e),t.xp6(2),t.Q6J("ngIf",r.showAddButton(e))}}function Ot(o,a){1&o&&(t.TgZ(0,"h1",10),t._uU(1,"Delete Ouput Variable"),t.qZA(),t.TgZ(2,"div",11),t._uU(3," By deleting Output variable all rules will be automatically deleted. Are you sure? "),t.qZA(),t.TgZ(4,"div",12),t.TgZ(5,"button",13),t._uU(6,"Cancel"),t.qZA(),t.TgZ(7,"button",14),t._uU(8," Delete "),t.qZA(),t.qZA()),2&o&&(t.xp6(7),t.Q6J("mat-dialog-close",!0))}let J=(()=>{class o{constructor(e,r,n){this.mamdaniService=e,this.dialog=r,this.route=n}ngOnInit(){this.route.url.pipe((0,Zt.q)(1)).subscribe(e=>{this.type=e[0].path,this.handleSubscriptions()})}handleSubscriptions(){"inputs"===this.type?(this.title="Inputs",this.variables$=this.mamdaniService.inputVariables$):(this.title="Output",this.variables$=this.mamdaniService.outputVariables$)}openDialog(e){this.dialog.open(dt,{data:{type:this.type,variable:e},width:"1200px"})}onRemoveItem(e){"inputs"!==this.type?this.dialog.open(this.deleteDialog).afterClosed().subscribe(n=>{n&&this.mamdaniService.removeOutputVariable()}):this.mamdaniService.removeInputVariable(e)}showAddButton(e){return"inputs"===this.type||!e.length}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f.q),t.Y36(c.uw),t.Y36(g.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-variables-list"]],viewQuery:function(e,r){if(1&e&&t.Gf(zt,5),2&e){let n;t.iGM(n=t.CRH())&&(r.deleteDialog=n.first)}},decls:4,vars:3,consts:[["class","mat-elevation-z0",4,"ngIf"],["deleteDialog",""],[1,"mat-elevation-z0"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["matLine",""],["mat-icon-button","","color","primary",3,"click"],[3,"type","variable","variableIndex","removeItem"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],["mat-button","","color","warn","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,r){1&e&&(t.YNc(0,Nt,9,4,"mat-card",0),t.ALo(1,"async"),t.YNc(2,Ot,9,1,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("ngIf",t.lcZ(1,1,r.variables$))},directives:[l.O5,u.a8,u.n5,u.dn,T.i$,l.sg,u.hq,T.Tg,v.X2,d.lW,b.Hw,Ct,c.uh,c.xY,c.H8,c.ZT],pipes:[l.Ov],styles:["mat-list-item[_ngcontent-%COMP%]{margin-top:20px;height:auto!important}"]}),o})();const Ut=[{path:"",component:E,children:[{path:"",redirectTo:"inputs"},{path:"inputs",component:J},{path:"output",component:J},{path:"rules",component:at}]}];let Jt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.Bz.forChild(Ut)],g.Bz]}),o})(),Lt=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[L.m,Jt]]}),o})()}}]);