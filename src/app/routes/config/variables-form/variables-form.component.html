<form [formGroup]="form" (ngSubmit)="addVariable($event)">
  <app-custom-modal>
    <h1 dialog-title>{{ getDialogTitle() }}</h1>
    <div dialog-content>
      <div class="row">
        <div class="col-6">
          <mat-form-field class="input-full-width">
            <mat-label>Variable Name</mat-label>
            <input matInput placeholder="Name" formControlName="name" />
            <mat-error *ngIf="form.get('name').hasError('required')">
              Required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-6">
          <mat-form-field class="input-full-width">
            <mat-label>Number of fuzzyAreas</mat-label>
            <input
              matInput
              placeholder="fuzzy areas count"
              autocomplete="off"
              type="number"
              min="0"
              formControlName="fuzzyAreasCount"
            />
            <mat-error *ngIf="form.get('fuzzyAreasCount').hasError('required')">
              Required
            </mat-error>
            <mat-error *ngIf="form.get('fuzzyAreasCount').hasError('min')">
              Minumun number of fuzzy areas 1
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <br />
      <div class="row">
        <div class="col-6">
          <mat-form-field class="input-full-width">
            <mat-label>Range: Start</mat-label>
            <input
              matInput
              placeholder="Start"
              autocomplete="off"
              type="number"
              formControlName="start"
            />
            <mat-error *ngIf="form.get('start').hasError('required')">
              Required
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-6">
          <mat-form-field class="input-full-width">
            <mat-label>Range: End</mat-label>
            <input
              matInput
              placeholder="End"
              autocomplete="off"
              type="number"
              formControlName="end"
            />
            <mat-error *ngIf="form.get('end').hasError('required')">
              Required
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <mat-divider></mat-divider>
      <div class="my-3">
        <h2>Fuzzy Areas</h2>
        <div *ngFor="let item of fuzzyAreasArray.controls">
          <app-fuzzy-area-form [form]="item"></app-fuzzy-area-form>
          <mat-divider></mat-divider>
        </div>
      </div>
    </div>
    <div dialog-actions>
      <button
        mat-button
        mat-dialog-close
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="!form.valid"
      >
        Save
      </button>
    </div>
  </app-custom-modal>
</form>
